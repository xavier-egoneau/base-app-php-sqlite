                
{# ------------- trumbowyg ------------- #}

<!-- Import Trumbowyg -->
<script src="{{ assets}}js/trumbowyg/trumbowyg.js"></script>
                
<!-- Import Trumbowyg plugins... -->
<script src="{{ assets}}js/trumbowyg/plugins/upload/trumbowyg.upload.min.js"></script>
<script src="{{ assets}}js/trumbowyg/plugins/cleanpaste/trumbowyg.cleanpaste.min.js"></script>
<script src="{{ assets}}js/trumbowyg/plugins/pasteembed/trumbowyg.pasteembed.min.js"></script>
<script>
    
    
   $.trumbowyg.langs.fr={viewHTML:"Voir le HTML",undo:"Annuler",redo:"Refaire",formatting:"Format",p:"Paragraphe",blockquote:"Citation",code:"Code",header:"Titre",bold:"Gras",italic:"Italique",strikethrough:"Barré",underline:"Souligné",strong:"Fort",em:"Emphase",del:"Supprimé",superscript:"Exposant",subscript:"Indice",unorderedList:"Liste à puces",orderedList:"Liste ordonnée",insertImage:"Insérer une image",insertVideo:"Insérer une video",link:"Lien",createLink:"Insérer un lien",unlink:"Supprimer le lien",justifyLeft:"Aligner à gauche",justifyCenter:"Centrer",justifyRight:"Aligner à droite",justifyFull:"Justifier",horizontalRule:"Insérer un séparateur horizontal",removeformat:"Supprimer formatage",fullscreen:"Plein écran",close:"Fermer",submit:"Valider",reset:"Annuler",required:"Obligatoire",description:"Description",title:"Titre",text:"Texte",target:"Cible"};
    
    
    $( document).ready(function() {
        $.noConflict();
        var toolbar = [
		'viewHTML',
		'formattingLight',
        'btnGrp-semantic',
        'bold',
        'italic',
        'link',
        'underline',   
            ['unorderedList', 'orderedList'],
        //['superscript', 'subscript'],
        
        //'btnGrp-justify',
        //'btnGrp-lists',
        'horizontalRule',
        //'foreColor', 
        'image',
        'upload', 
        //'noembed',
        'removeformat'
        
        ];
    
        api_url = $("#data_url_api").data("url");
        
        $('.wysiwyg').trumbowyg({
                    lang: 'fr',
                    btnsDef: {
                            // Customizables dropdowns
                            formattingLight: {
                                dropdown: ['h2','h3','p','blockquote'],
                                ico: 'p' // Apply formatting icon
                            }
                    },
                    btns: toolbar,
                    autogrow: false,
                    removeformatPasted: true,
                    mobile: true,
                    fixedBtnPane: false,
                    fixedFullWidth: false,
                    //svgPath: false,
                    semantic: {
                        'b': 'strong',
                        'i': 'em',
                        's': 'del',
                        'strike': 'del',
                        'div': 'p'
                    },
                    resetCss: true,
                    //autogrow: true,
                    //autogrowOnEnter: true,
                    autoAjustHeight: true,
                    //prefix: 'custom-prefix',
                    plugins: {
                        // Add imagur parameters to upload plugin
                         upload: {
                             serverPath: api_url+'upload',
                             fileFieldName: 'image',
                             urlPropertyName: 'data.link'
                         }
                        
                    }
        });

        $('.trumbowyg-editor').on("mouseleave",function(){
            var content = $(this).html();
            ////console.log("content:"+$(this).parent().children("textarea").attr("id"));
            var id_module = $(this).parent().children("textarea").attr("id");
            $("#"+id_module).val(content);
        });
        
    });
</script>

{# ------------- end trumbowyg ------------- #}
